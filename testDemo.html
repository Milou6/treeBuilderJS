<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Fabric with history</title>
</head>

<body>
    <canvas></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.4.0/fabric.min.js"></script>
    <script src="//raw.githubusercontent.com/lyzerk/fabric-history/master/src/index.js"></script>

    <script>
        const canvas = new fabric.Canvas(document.querySelector('canvas'), {
            isDrawingMode: true
        })

        document.addEventListener('keyup', ({ keyCode, ctrlKey } = event) => {
            // Check Ctrl key is pressed.
            if (!ctrlKey) {
                return
            }

            // Check pressed button is Z - Ctrl+Z.
            if (keyCode === 90) {
                canvas.undo()
            }

            // Check pressed button is Y - Ctrl+Y.
            if (keyCode === 89) {
                canvas.redo()
            }
        })
    </script>
</body>

</html>